2024-11-25T11:14:03.557+01:00  INFO 1 --- [ehrbase] [main] org.ehrbase.application.EhrBase          : Starting EhrBase using Java 21.0.4 with PID 1 (/app/ehrbase.jar started by ehrbase in /app)
2024-11-25T11:14:03.560+01:00  INFO 1 --- [ehrbase] [main] org.ehrbase.application.EhrBase          : The following 1 profile is active: "docker"
2024-11-25T11:14:05.140+01:00  INFO 1 --- [ehrbase] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-11-25T11:14:05.143+01:00  INFO 1 --- [ehrbase] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-11-25T11:14:05.162+01:00  INFO 1 --- [ehrbase] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-11-25T11:14:05.464+01:00  INFO 1 --- [ehrbase] [main] org.pf4j.DefaultPluginStatusProvider     : Enabled plugins: []
2024-11-25T11:14:05.467+01:00  INFO 1 --- [ehrbase] [main] org.pf4j.DefaultPluginStatusProvider     : Disabled plugins: []
2024-11-25T11:14:05.473+01:00  INFO 1 --- [ehrbase] [main] org.pf4j.DefaultPluginManager            : PF4J version 3.11.1 in 'deployment' mode
2024-11-25T11:14:05.488+01:00  WARN 1 --- [ehrbase] [main] org.pf4j.AbstractPluginManager           : No 'plugin_dir' root
2024-11-25T11:14:05.491+01:00  INFO 1 --- [ehrbase] [main] org.pf4j.AbstractPluginManager           : No plugins
2024-11-25T11:14:06.126+01:00  INFO 1 --- [ehrbase] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2024-11-25T11:14:06.137+01:00  INFO 1 --- [ehrbase] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-11-25T11:14:06.137+01:00  INFO 1 --- [ehrbase] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-11-25T11:14:06.165+01:00  INFO 1 --- [ehrbase] [main] o.a.c.c.C.[.[localhost].[/ehrbase]       : Initializing Spring embedded WebApplicationContext
2024-11-25T11:14:06.165+01:00  INFO 1 --- [ehrbase] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2506 ms
2024-11-25T11:14:06.410+01:00  INFO 1 --- [ehrbase] [main] o.e.c.c.s.SecurityConfigBasicAuth        : Using basic authentication
2024-11-25T11:14:07.326+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://ehrdb2:5433/ehrbase (PostgreSQL 16.2)
2024-11-25T11:14:07.331+01:00  WARN 1 --- [ehrbase] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 16.2 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2024-11-25T11:14:07.363+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.c.SqlScriptCallbackFactory       : Executing SQL callback: beforeValidate - 
2024-11-25T11:14:07.386+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbValidate     : Successfully validated 4 migrations (execution time 00:00.014s)
2024-11-25T11:14:07.403+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "ext"."flyway_schema_history" ...
2024-11-25T11:14:07.429+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "ext": << Empty Schema >>
2024-11-25T11:14:07.434+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ext" to version "1 - baseline"
2024-11-25T11:14:07.456+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ext" to version "2 - aggregate functions"
2024-11-25T11:14:07.468+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ext" to version "3 - dv ordered aggregate functions"
2024-11-25T11:14:07.477+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ext" to version "4 - create missing collation"
2024-11-25T11:14:07.481+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Successfully applied 4 migrations to schema "ext", now at version v4 (execution time 00:00.057s)
2024-11-25T11:14:07.510+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://ehrdb2:5433/ehrbase (PostgreSQL 16.2)
2024-11-25T11:14:07.513+01:00  WARN 1 --- [ehrbase] [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 16.2 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2024-11-25T11:14:07.524+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.c.SqlScriptCallbackFactory       : Executing SQL callback: beforeValidate - 
2024-11-25T11:14:07.540+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbValidate     : Successfully validated 23 migrations (execution time 00:00.013s)
2024-11-25T11:14:07.548+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "ehr"."flyway_schema_history" ...
2024-11-25T11:14:07.565+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Current version of schema "ehr": << Empty Schema >>
2024-11-25T11:14:07.577+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "1 - ehr"
2024-11-25T11:14:07.652+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "2 - tenant"
2024-11-25T11:14:07.677+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "3 - locatable"
2024-11-25T11:14:07.751+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "4 - drop comp data idx"
2024-11-25T11:14:07.766+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "5.1 - remove multi tenancy"
2024-11-25T11:14:07.847+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "5.2 - remove multi tenancy"
2024-11-25T11:14:07.892+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "5.3 - remove multi tenancy"
2024-11-25T11:14:07.933+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "5.4 - remove multi tenancy"
2024-11-25T11:14:07.942+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "6.1 - version tables"
2024-11-25T11:14:07.963+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "6.2 - version tables"
2024-11-25T11:14:07.977+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "6.3 - version tables"
2024-11-25T11:14:08.035+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "6.4 - version tables"
2024-11-25T11:14:08.051+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "7 - comp rmobject index"
2024-11-25T11:14:08.056+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "8 - vo data indexes"
2024-11-25T11:14:08.065+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "9.1 - add root concept to comp version"
2024-11-25T11:14:08.077+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "9.2 - add root concept to comp version"
2024-11-25T11:14:08.085+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "9.3 - add root concept to comp version"
2024-11-25T11:14:08.094+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "10 - ehr status subject aql idx"
2024-11-25T11:14:08.098+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: relation "prep_ehr_status_subject_idx" does not exist, skipping
2024-11-25T11:14:08.105+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "11 - drop system"
2024-11-25T11:14:08.117+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "12 - drop template index"
2024-11-25T11:14:08.123+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "13 - refactor audit details"
2024-11-25T11:14:08.139+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "14 - index for ehr time created"
2024-11-25T11:14:08.148+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Migrating schema "ehr" to version "15 - data tables add parent num"
2024-11-25T11:14:08.162+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: index "mig_ehr_folder_data_history_num_idx" does not exist, skipping
2024-11-25T11:14:08.162+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: index "mig_ehr_folder_data_num_idx" does not exist, skipping
2024-11-25T11:14:08.163+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: index "mig_ehr_status_data_history_num_idx" does not exist, skipping
2024-11-25T11:14:08.163+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: index "mig_ehr_status_data_num_idx" does not exist, skipping
2024-11-25T11:14:08.164+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: index "mig_comp_data_history_num_idx" does not exist, skipping
2024-11-25T11:14:08.164+01:00  INFO 1 --- [ehrbase] [main] o.f.c.i.s.DefaultSqlScriptExecutor       : DB: index "mig_comp_data_num_idx" does not exist, skipping
2024-11-25T11:14:08.182+01:00  INFO 1 --- [ehrbase] [main] o.f.core.internal.command.DbMigrate      : Successfully applied 23 migrations to schema "ehr", now at version v15 (execution time 00:00.619s)
2024-11-25T11:14:08.610+01:00  WARN 1 --- [ehrbase] [main] o.ehrbase.service.ValidationServiceImp   : Disabling strict invariant validation. Caution is advised.
2024-11-25T11:14:08.842+01:00  WARN 1 --- [ehrbase] [main] .ValidationConfiguration$$SpringCGLIB$$0 : External terminology validation is disabled, consider to enable it
2024-11-25T11:14:09.154+01:00  INFO 1 --- [ehrbase] [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2024-11-25T11:14:09.444+01:00  INFO 1 --- [ehrbase] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/management'
2024-11-25T11:14:09.466+01:00  INFO 1 --- [ehrbase] [main] o.e.c.c.s.SecurityConfigBasicAuth        : Management endpoint access type PUBLIC
2024-11-25T11:14:09.522+01:00  INFO 1 --- [ehrbase] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a097a83, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10d8769e, org.springframework.security.web.context.SecurityContextHolderFilter@38c9e937, org.springframework.security.web.header.HeaderWriterFilter@7b1a9ab3, org.springframework.web.filter.CorsFilter@699fe19f, org.springframework.security.web.csrf.CsrfFilter@5c6ee543, org.springframework.security.web.authentication.logout.LogoutFilter@35e0d91e, org.ehrbase.configuration.config.security.SecurityFilter@2357f000, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4d65fbad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@577b2c5f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63541960, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@329b4b8b, org.springframework.security.web.session.SessionManagementFilter@2b8a11d7, org.springframework.security.web.access.ExceptionTranslationFilter@2ecb87b2, org.springframework.security.web.access.intercept.AuthorizationFilter@58c48a23]
2024-11-25T11:14:10.712+01:00  INFO 1 --- [ehrbase] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/ehrbase'
2024-11-25T11:14:10.739+01:00  INFO 1 --- [ehrbase] [main] org.ehrbase.application.EhrBase          : Started EhrBase in 7.675 seconds (process running for 8.235)
2024-11-25T11:14:12.673+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-1] o.a.c.c.C.[.[localhost].[/ehrbase]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-25T11:14:12.673+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-11-25T11:14:12.675+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-11-25T11:14:12.734+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-11-25T11:14:12.757+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6a5a374a
2024-11-25T11:14:12.762+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-11-25T11:14:14.509+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-2] o.j.i.D.logVersionSupport                : Version                  : Database version is supported by dialect POSTGRES: 16.2
2024-11-25T11:14:14.539+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-2] o.e.c.exception.DefaultExceptionHandler  : No EHR with supplied subject parameters found
2024-11-25T11:14:15.855+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-10] o.e.service.KnowledgeCacheServiceImp     : Updating WebTemplate cache for template: BurgerlijkeStaat2017
2024-11-25T11:14:16.381+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-12] o.e.c.exception.DefaultExceptionHandler  : No EHR with supplied subject parameters found
2024-11-25T11:14:16.579+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-18] o.e.c.exception.DefaultExceptionHandler  : Operational template with this template ID already exists: BurgerlijkeStaat2017
2024-11-25T11:14:16.658+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-22] o.e.c.exception.DefaultExceptionHandler  : No EHR with supplied subject parameters found
2024-11-25T11:14:16.830+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-28] o.e.c.exception.DefaultExceptionHandler  : Operational template with this template ID already exists: BurgerlijkeStaat2017
2024-11-25T11:14:17.673+01:00  INFO 1 --- [ehrbase] [http-nio-8081-exec-38] o.e.service.KnowledgeCacheServiceImp     : Updating WebTemplate cache for template: DataHub-Woonsituatie-2017
2024-11-25T11:14:17.950+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-45] o.e.c.exception.DefaultExceptionHandler  : Operational template with this template ID already exists: DataHub-Woonsituatie-2017
2024-11-25T11:14:18.155+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-53] o.e.c.exception.DefaultExceptionHandler  : Operational template with this template ID already exists: DataHub-Woonsituatie-2017
2024-11-25T11:15:53.410+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-83] o.e.c.exception.DefaultExceptionHandler  : No static resource management/info.
2024-11-25T11:15:53.418+01:00  WARN 1 --- [ehrbase] [http-nio-8081-exec-84] o.e.c.exception.DefaultExceptionHandler  : No static resource management/env.
